(function(t){function e(e){for(var s,i,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var r=a[l];0!==o[r]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2461:function(t,e,a){"use strict";var s=a("5bf6"),o=a.n(s);o.a},"268f":function(t,e,a){},"2c24":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("8bbf"),o=a.n(s),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],l={name:"app",components:{}},r=l,c=a("2877"),u=Object(c["a"])(r,n,i,!1,null,null,null),d=u.exports,p=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{CLASS:"box"}},[a("div",{staticClass:"login_box"},[t._m(0),a("el-form",{ref:"loginFromRef",staticClass:"login_from",attrs:{"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-s-custom"},on:{click:t.login},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-s-cooperation"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{staticClass:"btns_log",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")]),a("el-button",{staticClass:"btns_reg",attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar_box"},[s("img",{attrs:{src:a("d0cf")}})])}],m={name:"Navigation",data:function(){return{account:"",password:""}},methods:{login:function(){var t=this;t.account,""==t.password?this.$message("账号和密码不能为空"):(t.account,""==t.password?this.$message("账号和密码不能为空"):(t.$load(1,"登录中"),this.$http.post("/user/login","account="+t.account+"&password="+t.password).then((function(e){t.$load(0),0==e.data.code?(window.sessionStorage.setItem("user",JSON.stringify(e.data.data)),t.$router.push("/home"),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("登录失败")}))))},register:function(){var t=this;t.account,""==t.password?this.$message("账号和密码不能为空"):(t.account,""==t.password?this.$message("账号和密码不能为空"):(t.$load(1,"注册中"),this.$http.post("/user/register","account="+t.account+"&password="+t.password).then((function(e){t.$load(0),0==e.data.code?(t.login(),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("登录失败")}))))}}},f=m,b=(a("5a46"),Object(c["a"])(f,g,h,!1,null,"70a1aa5e",null)),v=b.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{height:"100%"}},[s("el-header",[s("div",[s("img",{attrs:{src:a("d0cf"),alt:""}}),s("span",[t._v("超级签名分发系统")])])]),s("el-container",[s("el-aside",{attrs:{width:"200px"}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":"",router:"","default-active":"/Personal","background-color":"#373d41","text-color":"#fff","active-text-color":"#ffd04b"}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-user"}),s("span",[t._v("基本操作")])]),s("el-menu-item",{attrs:{index:"/Personal"}},[t._v("个人中心")])],2),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-goods"}),s("span",[t._v("应用管理")])]),s("el-menu-item",{attrs:{index:"/AppAll"}},[t._v("应用列表")]),s("el-menu-item",{attrs:{index:"/UploadApp"}},[t._v("上传应用")])],2),s("el-submenu",{attrs:{index:"3"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-s-order"}),s("span",[t._v("证书管理")])]),s("el-menu-item",{attrs:{index:"/CertAll"}},[t._v("证书列表")]),s("el-menu-item",{attrs:{index:"/UploadCert"}},[t._v("上传证书")])],2),t.admin?s("el-submenu",{attrs:{index:"4"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-s-order"}),s("span",[t._v("用户管理")])]),s("el-menu-item",{attrs:{index:"/UserAll"}},[t._v("用户列表")])],2):t._e(),s("el-submenu",{attrs:{index:"5"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-s-order"}),s("span",[t._v("下载管理")])]),s("el-menu-item",{attrs:{index:"/DownRecord"}},[t._v("下载记录")])],2)],1)],1),s("el-main",[s("router-view")],1)],1)],1)},$=[],_={name:"Home",created:function(){var t=JSON.parse(window.sessionStorage.getItem("user"));console.log(t),this.account=t.account,0==t.type?this.admin=!1:this.admin=!0},data:function(){return{admin:!1}}},x=_,y=(a("6086"),Object(c["a"])(x,w,$,!1,null,"57f34f78",null)),C=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"center_box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("用户信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text"},on:{click:t.quit}},[t._v("退出")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改密码")])],1),a("div",{staticClass:"text item"},[t._v(" 账号: "+t._s(t.account)+" ")]),a("div",{staticClass:"text item"},[t._v(" 类型: "+t._s(t.type)+" ")]),a("div",{staticClass:"text item"},[t._v(" 公有池: "+t._s(t.count)+" 台 ")])])],1),a("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确 定")])],1)],1)],1)},S=[],z={created:function(){var t=JSON.parse(window.sessionStorage.getItem("user"));console.log(t),this.account=t.account,this.count=t.count,0==t.type?this.type="普通用户":this.type="管理员"},name:"Personal",data:function(){return{account:"获取失败",type:"获取失败",count:"获取失败",dialogFormVisible:!1,password:"",newPassword:"",formLabelWidth:"120px"}},methods:{ok:function(){var t=this;""===this.password||""===this.newPassword?t.$message.success("请填写完整信息"):this.$http.post("/user/updatePassword","account="+this.account+"&password="+this.password+"&newPassword="+this.newPassword).then((function(e){0===e.data.code?(t.$message.success(e.data.message),t.$router.push("/login")):t.$message.error(e.data.message)}))},quit:function(){var t=this;this.$http.get("/user/quit").then((function(e){t.$message.success(e.data.message),window.sessionStorage.removeItem("user"),t.$router.push("/login")}))}}},V=z,I=(a("a292"),Object(c["a"])(V,k,S,!1,null,"4bdc7323",null)),P=I.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"apk",label:"安卓"},scopedSlots:t._u([{key:"default",fn:function(e){return["未上传"==e.row.apk?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpen(e.row.id)}}},[t._v("上传")]):t._e(),"已上传"==e.row.apk?a("span",[t._v("已上传")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"introduce",label:"简介"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateIntroduce(e.row.id,e.row.introduce)}}},[t._v("编辑")])]}}])}),a("el-table-column",{attrs:{prop:"images",label:"轮播图"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.images?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.uploadImages(e.row.id)}}},[t._v("上传")]):t._e(),"已上传"==e.row.images?a("span",[t._v("已上传")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过500MB")])])],1)]),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"轮播图",visible:t.dialogVisible3,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{"before-remove":function(){return this.$message.error("选择了,就不可以移除哦!"),!1},accept:".jpg,.png","on-change":t.uploadImagesChange,action:this.$http.defaults.baseURL+"/distribute/uploadImg","file-list":t.fileList,limit:"4","list-type":"picture","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.uploadImagesPost()}}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)},O=[],D={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/distribute/updateIntroduce?id="+t.id2+"&introduce="+t.introduce).then((function(e){t.$load(0),0==e.data.code?(t.update(),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImages:function(t){this.fileList=[],this.dialogVisible3=!0,this.id2=t,this.img=[]},uploadImagesPost:function(){if(4!=this.img.length)this.$message.error("需要四张图哦!");else{this.dialogVisible3=!1;var t=new FormData;t.append("img1",this.img[0]),t.append("img2",this.img[1]),t.append("img3",this.img[2]),t.append("img4",this.img[3]),t.append("id",this.id2);var e=this;this.$http.post("/distribute/uploadImg",t).then((function(t){e.$load(0),0==t.data.code?(e.update(),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("上传失败")}))}},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/distribute/deleIpa?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/distribute/queryAccountAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var s=t.data.data[e];null==s.apk?s.apk="未上传":s.apk="已上传",a.tableData.push(s)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.id=t,this.dialogVisible=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.sessionStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.update()):this.$message.error(t.message)}},data:function(){return{tableData:[],dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,introduce:"",id2:"",fileList:[],img:[],count:5,page:1,pages:0,total:0}}},A=D,U=(a("8536"),Object(c["a"])(A,j,O,!1,null,null,null)),E=U.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"uploadHead",attrs:{"on-success":t.success,"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过500MB")])])},F=[],L={name:"UploadApp",data:function(){return{}},methods:{success:function(t){4===t.code?(this.$message.error(t.message),window.sessionStorage.removeItem("user"),this.$router.push("/login")):0===t.code?this.$message.success(t.message+":请前往我的应用查看"):this.$message.error(t.message)}}},T=L,q=Object(c["a"])(T,N,F,!1,null,"a3775458",null),R=q.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"iis",label:"iis"}}),a("el-table-column",{attrs:{prop:"kid",label:"kid"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"count",label:"剩余次数"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.iis)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},J=[],H={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/iis/deleIis?iis="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/iis/queryAccount?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var s=t.data.data[e];1===s.status?s.status="正常":s.status="失效",a.tableData.push(s)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},B=H,W=(a("2461"),Object(c["a"])(B,M,J,!1,null,null,null)),G=W.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("证书信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"iis:"}},[a("el-input",{model:{value:t.iis,callback:function(e){t.iis=e},expression:"iis"}})],1),a("el-form-item",{attrs:{label:"kid"}},[a("el-input",{model:{value:t.kid,callback:function(e){t.kid=e},expression:"kid"}})],1),a("el-form-item",{attrs:{label:"P8:"}},[a("el-upload",{staticClass:"upload-demo",attrs:{accept:".p8",action:"/iis/addIis","auto-upload":!1,"on-change":t.change,limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选择文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传p8文件，且不超过500kb")])],1)],1)],1)],1)},Q=[],X={name:"UploadCert",data:function(){return{iis:"",kid:"",p8:"",disabled:!1,buttonText:"添加"}},methods:{change:function(t){console.log(t.raw),this.p8=t.raw},upload:function(){var t=this,e=new FormData;e.append("iis",this.iis),e.append("kid",this.kid),e.append("p8",this.p8),""==this.iis||""==this.kid||""==this.p8?t.$message.error("请填写完整信息"):(t.disabled=!0,t.buttonText="添加中",t.$http.post("/iis/addIis",e).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)})))}}},Y=X,Z=Object(c["a"])(Y,K,Q,!1,null,"3d9af36c",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"password",label:"密码"}}),a("el-table-column",{attrs:{prop:"count",label:"共有池"}}),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(a){return t.handleClick(e.row.account)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"small"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加共有池")]),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{type:"account",disabled:!0,autocomplete:"off"},model:{value:e.row.account,callback:function(a){t.$set(e.row,"account",a)},expression:"scope.row.account"}})],1),a("el-form-item",{attrs:{label:"公有池"}},[a("el-input",{attrs:{type:"count",disabled:!0,autocomplete:"off"},model:{value:e.row.count,callback:function(a){t.$set(e.row,"count",a)},expression:"scope.row.count"}})],1),a("el-form-item",{attrs:{label:"增加/台"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入内容"},model:{value:t.addCount,callback:function(e){t.addCount=e},expression:"addCount"}})],1)],1),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.dialogVisibleClick(e.row.account)}}},[t._v("确定")])],1)]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},at=[],st={created:function(){this.update(this.page,this.count)},methods:{dialogVisibleClick:function(t){this.dialogVisible=!1;var e=this;this.$http.post("admin/addUserCount?account="+t+"&count="+this.addCount).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("admin/dele?account="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/admin/queryAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var s=t.data.data[e];1===s.type?s.type="管理员":s.type="普通用户",a.tableData.push(s)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1,dialogVisible:!1,addCount:1}}},ot=st,nt=(a("c005"),Object(c["a"])(ot,et,at,!1,null,null,null)),it=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"udid",label:"设备UDID"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"status",label:"下载状态"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},rt=[],ct={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/user/queryDown?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var s=t.data.data[e];"点击下载"===s.status&&(s.status="下载成功"),a.tableData.push(s)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},ut=ct,dt=(a("bafb"),Object(c["a"])(ut,lt,rt,!1,null,null,null)),pt=dt.exports;o.a.use(p["a"]);var gt=new p["a"]({routes:[{path:"/login",component:v},{path:"/",redirect:"/login"},{path:"/Home",component:C,redirect:"/Personal",children:[{path:"/Personal",component:P},{path:"/AppAll",component:E},{path:"/UploadApp",component:R},{path:"/CertAll",component:G},{path:"/UploadCert",component:tt},{path:"/UserAll",component:it},{path:"/DownRecord",component:pt}]}]}),ht=gt,mt=a("2f62");o.a.use(mt["a"]);var ft=new mt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),bt=(a("aede"),a("bc3a")),vt=a.n(bt);function wt(t,e){1===t?this.$loading({lock:!0,text:e,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}):this.$loading({lock:!0,text:e,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}).close()}o.a.config.productionTip=!1,o.a.prototype.$http=vt.a,vt.a.defaults.baseURL="https://www.markprice.cn/iosign/",vt.a.defaults.withCredentials=!0,o.a.prototype.$load=wt,vt.a.interceptors.response.use((function(t){return console.log(t.data),4===t.data.code&&(o.a.prototype.$message("请登录"),ht.push("/login"),window.sessionStorage.removeItem("user")),t})),ht.beforeEach((function(t,e,a){"/login"===t.path||null!=window.sessionStorage.getItem("user")?a():(o.a.prototype.$message("请登录"),ht.push("/login"))})),new o.a({router:ht,store:ft,render:function(t){return t(d)}}).$mount("#app")},"5a46":function(t,e,a){"use strict";var s=a("2c24"),o=a.n(s);o.a},"5bf6":function(t,e,a){},6086:function(t,e,a){"use strict";var s=a("edf5"),o=a.n(s);o.a},8015:function(t,e,a){},8536:function(t,e,a){"use strict";var s=a("8015"),o=a.n(s);o.a},"8bbf":function(t,e){t.exports=Vue},a292:function(t,e,a){"use strict";var s=a("fe8e"),o=a.n(s);o.a},aede:function(t,e,a){},bafb:function(t,e,a){"use strict";var s=a("268f"),o=a.n(s);o.a},c005:function(t,e,a){"use strict";var s=a("ddbc"),o=a.n(s);o.a},d0cf:function(t,e,a){t.exports=a.p+"img/login.81187d77.jpg"},ddbc:function(t,e,a){},edf5:function(t,e,a){},fe8e:function(t,e,a){}});
//# sourceMappingURL=app.96e886ab.js.map